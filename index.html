<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>TADY - Tvo콏 sv콢j sv캩t</title>
    
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <style>
        :root { --neon: #00f2ff; --tmavy: #0a0a0a; --zlata: #ffd700; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: var(--tmavy); color: white; font-family: sans-serif; overflow: hidden; }
        
        /* 칔vodn칤 obrazovka */
        #splash { position: fixed; inset: 0; z-index: 1000; background: radial-gradient(circle, #002d30 0%, #000 100%); display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .logo { font-size: 60px; font-weight: 900; color: var(--neon); text-shadow: 0 0 20px var(--neon); margin: 0; }
        .btn-vstup { background: var(--neon); color: black; border-radius: 50px; padding: 15px 45px; font-weight: bold; cursor: pointer; margin-top: 30px; border: none; text-transform: uppercase; }

        /* AR a Mapa kontejnery */
        #AR-view, #mapa-view { display: none; width: 100%; height: 100vh; position: absolute; top: 0; left: 0; }
        #map-container { width: 100%; height: 100%; }

        /* Spodn칤 Menu */
        .hlavni-menu { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); display: flex; gap: 40px; background: rgba(0,0,0,0.9); padding: 15px 35px; border-radius: 50px; border: 1px solid var(--neon); z-index: 100; align-items: center; }
        .menu-ikona { color: var(--neon); font-size: 24px; cursor: pointer; }

        /* Tla캜칤tko PLUS */
        .btn-pridat { position: fixed; bottom: 120px; right: 25px; width: 65px; height: 65px; background: var(--neon); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: black; font-size: 35px; font-weight: bold; z-index: 100; box-shadow: 0 0 20px var(--neon); border: none; }

        /* Platebn칤 br치na / Editor */
        #editor-stop { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 2000; padding: 20px; flex-direction: column; align-items: center; justify-content: center; }
        .karta { background: #1a1a1a; border: 2px solid var(--neon); padding: 25px; border-radius: 20px; width: 85%; max-width: 400px; text-align: center; }
        textarea { width: 100%; height: 100px; background: #000; border: 1px solid var(--neon); color: white; padding: 10px; margin: 15px 0; border-radius: 10px; box-sizing: border-box; }
        .btn-akce { background: var(--zlata); color: black; padding: 15px; border-radius: 10px; border: none; font-weight: bold; width: 100%; cursor: pointer; margin-top: 10px; }
    </style>
</head>
<body>

    <div id="splash">
        <h1 class="logo">TADY</h1>
        <p>v코echno d콢le쬴t칠 je tady</p>
        <button class="btn-vstup" onclick="startApp()">VSTOUPIT</button>
    </div>

    <div id="AR-view">
        <button class="btn-pridat" onclick="otevritEditor()">+</button>
        <div class="hlavni-menu">
            <span onclick="prepniNaMapu()" class="menu-ikona">游댌</span>
            <span onclick="prepniNaAR()" class="menu-ikona">游눫</span>
            <span onclick="alert('Profil a Finance')" class="menu-ikona">游녻</span>
        </div>
        <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">
            <a-entity camera></a-entity>
            <a-text value="TADY TVORIS SVET" position="0 0 -2" align="center" color="#00f2ff"></a-text>
        </a-scene>
    </div>

    <div id="mapa-view">
        <div id="map-container"></div>
        <div class="hlavni-menu">
            <span onclick="prepniNaMapu()" class="menu-ikona">游댌</span>
            <span onclick="prepniNaAR()" class="menu-ikona">游눫</span>
            <span onclick="alert('Profil a Finance')" class="menu-ikona">游녻</span>
        </div>
    </div>

    <div id="editor-stop">
        <div class="karta">
            <h2 style="color:var(--neon)">PLACEN츼 STOPA</h2>
            <p>Um칤sti vzkaz nebo reklamu do prostoru.</p>
            <textarea id="obsah" placeholder="Napi코 text (vzkaz, menu, akce)..."></textarea>
            <div style="color:var(--zlata); font-weight:bold; margin-bottom:15px;">CENA: 29 K캜 / den</div>
            <button class="btn-akce" onclick="zaplatit()">ZAPLATIT A UM칈STIT</button>
            <button onclick="zavritEditor()" style="background:none; border:none; color:white; margin-top:15px;">Zru코it</button>
        </div>
    </div>

    <script>
        let mapa;

        function startApp() {
            document.getElementById('splash').style.display = 'none';
            document.getElementById('AR-view').style.display = 'block';
        }

        function prepniNaAR() {
            document.getElementById('mapa-view').style.display = 'none';
            document.getElementById('AR-view').style.display = 'block';
        }

        function prepniNaMapu() {
            document.getElementById('AR-view').style.display = 'none';
            document.getElementById('mapa-view').style.display = 'block';
            if (!mapa) {
                mapa = L.map('map-container').setView([50.91, 14.62], 15);
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(mapa);
                L.marker([50.91, 14.62]).addTo(mapa).bindPopup('V칤tejte v TADY!');
            }
        }

        function otevritEditor() { document.getElementById('editor-stop').style.display = 'flex'; }
        function zavritEditor() { document.getElementById('editor-stop').style.display = 'none'; }

        function zaplatit() {
            const t = document.getElementById('obsah').value;
            if(!t) return alert("Napi코 obsah!");
            alert("P콏esm캩rov치n칤 na platebn칤 br치nu... Platba p콏ijata. Vzkaz se ukl치d치 do Neon DB.");
            zavritEditor();
        }
    </script>
</body>
</html>

